name: notification

on:
  workflow_call:
    inputs:
      error:
        required: true
        type: boolean
      success:
        required: true
        type: boolean
      warning:
        required: false
        type: boolean
        default: false
      repositoryName:
        required: true
        type: string
      error_message:
        type: string
        required: false
        default: error à­§à¼¼à² ç›Šà² à¼½à­¨
      success_message:
        type: string
        required: false
        default: success (Â´â–½`ÊƒÆª)
      warning_message:
        type: string
        required: false
        default: warning Æª(â€¾Îµâ€¾â€œ)Êƒ

jobs:
  error:
    if: inputs.error
    runs-on: ubuntu-latest
    steps:
      - name: Dicord Error
        uses: rjstone/discord-webhook-notify@v1
        with:
          severity: warn
          text: 'ðŸ”´ **${{ inputs.repositoryName }}** ${{ inputs.error_message }}'
          webhookUrl: ${{ vars.DISCORD_WEBHOOK }}

  warning:
    if: inputs.warning
    runs-on: ubuntu-latest
    steps:
      - name: Dicord Warning
        uses: rjstone/discord-webhook-notify@v1
        with:
          severity: warn
          text: 'ðŸŸ¡ **${{ inputs.repositoryName }}** ${{ inputs.warning_message }}'
          webhookUrl: ${{ vars.DISCORD_WEBHOOK }}

  success:
    if: inputs.success
    runs-on: ubuntu-latest
    steps:
      - name: Discord Success
        uses: rjstone/discord-webhook-notify@v1
        with:
          severity: info
          text: 'ðŸŸ¢ **${{ inputs.repositoryName }}** ${{ inputs.success_message }}'
          webhookUrl: ${{ vars.DISCORD_WEBHOOK }}
